<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Level 3 â€“ Teacher Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { font-family: 'Inter', sans-serif; }
  .accordion-content { display: none; }
  .accordion-header { cursor: pointer; }
  textarea, input[type="file"] { width: 100%; }
  input[type="file"] { padding: 0.5rem; border: 1px solid #ccc; border-radius: 0.5rem; }
</style>
</head>
<body class="bg-gradient-to-r from-blue-800 via-red-600 to-yellow-500 min-h-screen flex flex-col md:flex-row">

<!-- Sidebar -->
<aside class="w-full md:w-72 bg-gradient-to-b from-blue-900 to-blue-700 text-white flex flex-col shadow-lg p-4 space-y-4">
  <h1 class="text-2xl font-bold text-center mb-6">Level 3 Dashboard</h1>
  <button onclick="showSection('welcome')" class="w-full px-4 py-3 rounded-xl bg-blue-800 hover:bg-blue-600 font-semibold flex items-center gap-2 justify-center">ğŸ  Welcome</button>
  <button onclick="showSection('lessons')" class="w-full px-4 py-3 rounded-xl bg-blue-800 hover:bg-blue-600 font-semibold flex items-center gap-2 justify-center">ğŸ“˜ Lessons</button>
  <button onclick="showSection('tests')" class="w-full px-4 py-3 rounded-xl bg-blue-800 hover:bg-blue-600 font-semibold flex items-center gap-2 justify-center">ğŸ“ Tests</button>
  <button onclick="showSection('students')" class="w-full px-4 py-3 rounded-xl bg-blue-800 hover:bg-blue-600 font-semibold flex items-center gap-2 justify-center">ğŸ‘¥ Students</button>
</aside>

<main class="flex-1 p-4 md:p-8 space-y-8 overflow-y-auto">

  <!-- Welcome Section -->
  <section id="welcome" class="space-y-6">
    <h2 class="text-3xl font-bold text-white">ğŸ‘‹ Welcome Teacher!</h2>
    <div class="bg-white/95 p-6 md:p-8 rounded-2xl shadow-lg text-gray-800 space-y-4">
      <p class="text-lg">Welcome to your professional hub for Level 3. Continue shaping confident English speakers at Cuambe English School.</p>
      <p class="text-lg">This dashboard allows you to upload, edit, and manage lessons and tests for all Level 3 units â€” from professional communication to advanced grammar practice.</p>
      <p class="text-lg">Every file, task, or note you upload here instantly becomes visible for your Level 3 students on their dashboards.</p>
      <p class="text-lg text-gray-700 italic">ğŸ’¡ Tip: You can upload videos, audios, PDFs, images, and Word documents. Everything is stored locally in your browser for instant use.</p>
    </div>
  </section>

  <!-- Lessons Section -->
  <section id="lessons" class="hidden space-y-6">
    <h2 class="text-2xl font-semibold text-white">ğŸ“˜ Lessons (Upload any file)</h2>
    <div id="lessonsContainer" class="space-y-4"></div>
  </section>

  <!-- Tests Section -->
  <section id="tests" class="hidden space-y-4">
    <h2 class="text-2xl font-semibold text-white">ğŸ“ Tests</h2>
    <div id="testsContainer" class="space-y-4"></div>
  </section>

  <!-- Students Section -->
  <section id="students" class="hidden">
    <h2 class="text-2xl font-semibold text-white mb-4">ğŸ‘¥ Students</h2>
    <div class="bg-white shadow rounded-2xl p-6">
      <p>Here you can view and manage Level 3 students. Future updates can include progress tracking and feedback per student.</p>
    </div>
  </section>

</main>

<script>
  // ------------------- NAVIGATION -------------------
  function showSection(section) {
    document.querySelectorAll('main section').forEach(sec => sec.classList.add('hidden'));
    document.getElementById(section).classList.remove('hidden');
  }

  // ------------------- LESSONS -------------------
  const lessonTitles = [
    "Advanced greetings and small talk",
    "Professional introductions",
    "Discussing work and study",
    "Advanced descriptions: personality, behavior",
    "Complex numbers, dates, and time",
    "Idiomatic expressions",
    "Community and cultural topics",
    "Advanced routines and habits",
    "Using complex adverbs and connectors",
    "Storytelling and sequencing events",
    "Hobbies and leisure activities",
    "Sports and entertainment discussions",
    "Weekend planning",
    "Food and nutrition vocabulary",
    "Dining and ordering",
    "Shopping dialogues",
    "Preferences and opinions",
    "Health and emergencies",
    "Doctor and pharmacy dialogues",
    "Advice and recommendations",
    "Grammar Chapter 4 â€“ Present perfect",
    "Transportation and directions",
    "Travel arrangements",
    "Grammar Chapter 5 â€“ Past continuous",
    "Places and experiences",
    "Technology and media",
    "Online communication",
    "Invitations and social plans",
    "Existence and quantity",
    "Countable vs uncountable nouns",
    "Jobs and responsibilities",
    "Work schedules",
    "Grammar Chapter 6 â€“ Future continuous"
  ];

  const lessonsContainer = document.getElementById('lessonsContainer');

  lessonTitles.forEach((title, index) => {
    const i = index + 1;
    const div = document.createElement('div');
    div.className = "bg-white rounded-2xl shadow p-4 space-y-4";
    div.innerHTML = `
      <div class="accordion-header bg-blue-200 p-4 font-semibold rounded cursor-pointer flex justify-between items-center" onclick="toggleAccordion(this)">
        <span>Lesson ${i}: ${title}</span>
        <span class="text-blue-700">+</span>
      </div>
      <div class="accordion-content p-4 space-y-4 bg-gray-50 rounded">
        <label class="font-semibold">Upload File (video, audio, PDF, image, docx, etc.)</label>
        <input type="file" id="file${i}">
        <label class="font-semibold">Instructions</label>
        <textarea id="instructions${i}" placeholder="Enter instructions for Lesson ${i}..." class="border rounded p-2"></textarea>
        <label class="font-semibold">Tasks / Notes</label>
        <textarea id="tasks${i}" placeholder="Enter tasks or notes for Lesson ${i}..." class="border rounded p-2"></textarea>
        <button onclick="saveLesson(${i})" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Save Lesson ${i}</button>
      </div>
    `;
    lessonsContainer.appendChild(div);

    // Load saved data
    const saved = JSON.parse(localStorage.getItem(`level3_lesson_${i}`));
    if (saved) {
      document.getElementById(`instructions${i}`).value = saved.instructions || "";
      document.getElementById(`tasks${i}`).value = saved.tasks || "";
    }
  });

  function toggleAccordion(header) {
    const content = header.nextElementSibling;
    const icon = header.querySelector('span:last-child');
    if (content.style.display === "block") {
      content.style.display = "none";
      icon.textContent = "+";
    } else {
      content.style.display = "block";
      icon.textContent = "âˆ’";
    }
  }

  function saveLesson(i) {
    const fileInput = document.getElementById(`file${i}`);
    const instructions = document.getElementById(`instructions${i}`).value;
    const tasks = document.getElementById(`tasks${i}`).value;

    const lessonKey = `level3_lesson_${i}`;
    const lessonData = {
      id: `lesson${i}`,
      title: `Lesson ${i}: ${lessonTitles[i-1]}`,
      instructions: instructions,
      tasks: tasks,
      file: null,
      new: true
    };

    if (fileInput.files.length > 0) {
      const reader = new FileReader();
      reader.onload = e => {
        lessonData.file = e.target.result;
        localStorage.setItem(lessonKey, JSON.stringify(lessonData));
        alert(`Lesson ${i} saved!`);
      };
      reader.readAsDataURL(fileInput.files[0]);
    } else {
      localStorage.setItem(lessonKey, JSON.stringify(lessonData));
      alert(`Lesson ${i} saved (without file)!`);
    }
  }

  // ------------------- TESTS -------------------
  const testTitles = [
    "Test 1 â€“ covering Units 1â€“6",
    "Test 2 â€“ covering Units 7â€“12",
    "Test 3 â€“ covering Units 13â€“18",
    "Test 4 â€“ Final oral presentation"
  ];

  const testsContainer = document.getElementById('testsContainer');
  testTitles.forEach((title, t) => {
    const div = document.createElement('div');
    div.className = "bg-white rounded-2xl shadow p-4";
    div.innerHTML = `
      <h3 class="font-semibold mb-2">${title}</h3>
      <textarea id="test${t+1}" placeholder="Enter test details..." class="w-full border rounded p-2"></textarea>
      <button onclick="saveTest(${t+1})" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Save Test ${t+1}</button>
    `;
    testsContainer.appendChild(div);

    const saved = localStorage.getItem(`level3_test_${t+1}`);
    if (saved) document.getElementById(`test${t+1}`).value = saved;
  });

  function saveTest(t) {
    const data = document.getElementById(`test${t}`).value;
    localStorage.setItem(`level3_test_${t}`, data);
    alert(`Test ${t} saved!`);
  }

  // Show welcome by default
  showSection('welcome');
</script>

</body>
</html>
