<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Level 1 â€“ Student Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { font-family: 'Inter', sans-serif; }
  .accordion-content { display: none; }
  .accordion-header { cursor: pointer; }
  .sidebar-button { transition: background 0.2s; }
  .sidebar-button:hover { background-color: #2f855a; }
</style>
</head>
<body class="bg-gradient-to-r from-green-800 via-yellow-600 to-red-500 min-h-screen flex flex-col md:flex-row">

<!-- Sidebar -->
<aside class="w-full md:w-72 bg-gradient-to-b from-green-900 to-green-700 text-white flex flex-col shadow-lg p-4 space-y-4">
  <h1 class="text-2xl font-bold text-center mb-6">Level 1 Student Hub</h1>
  <button onclick="showSection('welcome')" class="sidebar-button w-full px-4 py-3 rounded-xl bg-green-800 font-semibold flex items-center gap-2 justify-center">ğŸ  Home</button>
  <button onclick="showSection('lessons')" class="sidebar-button w-full px-4 py-3 rounded-xl bg-green-800 font-semibold flex items-center gap-2 justify-center">ğŸ“˜ Lessons</button>
  <button onclick="showSection('tests')" class="sidebar-button w-full px-4 py-3 rounded-xl bg-green-800 font-semibold flex items-center gap-2 justify-center">ğŸ“ Tests</button>
  <button onclick="showSection('payments')" class="sidebar-button w-full px-4 py-3 rounded-xl bg-green-800 font-semibold flex items-center gap-2 justify-center">ğŸ’³ Payments</button>
  <button onclick="showSection('contact')" class="sidebar-button w-full px-4 py-3 rounded-xl bg-green-800 font-semibold flex items-center gap-2 justify-center">ğŸ“§ Contact</button>
  <button onclick="showSection('settings')" class="sidebar-button w-full px-4 py-3 rounded-xl bg-green-800 font-semibold flex items-center gap-2 justify-center">âš™ï¸ Settings</button>
  <button onclick="logout()" class="sidebar-button w-full px-4 py-3 rounded-xl bg-red-600 font-semibold flex items-center gap-2 justify-center">ğŸšª Logout</button>
</aside>

<!-- Main Content -->
<main class="flex-1 p-4 md:p-8 space-y-8 overflow-y-auto">

  <!-- Welcome Section -->
  <section id="welcome" class="space-y-6">
    <h2 class="text-3xl font-bold text-white">ğŸ‘‹ Welcome, Student!</h2>
    <div class="bg-white/95 p-6 md:p-8 rounded-2xl shadow-lg text-gray-800 space-y-4">
      <p class="text-lg font-semibold">Welcome to your personalized Level 1 Student Hub at Cuambe English School! ğŸ‰</p>
      <p class="text-lg">Here you can access your lessons, check your tests, and stay up to date with payments and communication.</p>
      <p class="text-lg">Your journey in learning English is unique, and this dashboard is designed to guide and support you every step of the way.</p>
      <p class="text-lg">Remember: practice consistently, explore the lessons, complete the tasks, and don't hesitate to reach out to your teachers!</p>
      <p class="text-lg text-gray-700 italic">ğŸ’¡ Tip: All lessons saved by your teacher are available here. Click on each lesson to see instructions, tasks, and download files if provided.</p>
    </div>
  </section>

  <!-- Lessons Section -->
  <section id="lessons" class="hidden space-y-6">
    <h2 class="text-2xl font-semibold text-white">ğŸ“˜ My Lessons</h2>
    <div id="lessonsContainer" class="space-y-4"></div>
  </section>

  <!-- Tests Section -->
  <section id="tests" class="hidden space-y-6">
    <h2 class="text-2xl font-semibold text-white">ğŸ“ My Tests</h2>
    <div id="testsContainer" class="space-y-4"></div>
  </section>

  <!-- Payments Section -->
  <section id="payments" class="hidden space-y-6">
    <h2 class="text-2xl font-semibold text-white">ğŸ’° Payments</h2>
    <div class="bg-white p-6 rounded-2xl shadow-lg text-gray-800 space-y-4">
      <p>View your payment history and upcoming fees here. You can also use the following payment methods to settle your fees:</p>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
        <div class="bg-blue-50 rounded-xl shadow-lg p-5 flex flex-col items-center text-center hover:scale-105 transition-transform">
          <span class="text-4xl mb-3">ğŸ“±</span>
          <h2 class="font-semibold text-lg mb-1">M-Pesa</h2>
          <p class="text-gray-700">844175964 â€“ Felisberto Cuambe</p>
        </div>
        <div class="bg-green-50 rounded-xl shadow-lg p-5 flex flex-col items-center text-center hover:scale-105 transition-transform">
          <span class="text-4xl mb-3">ğŸ“±</span>
          <h2 class="font-semibold text-lg mb-1">e-Mola</h2>
          <p class="text-gray-700">874175964 â€“ Felisberto Raimundo Cuambe</p>
        </div>
        <div class="bg-yellow-50 rounded-xl shadow-lg p-5 flex flex-col items-center text-center hover:scale-105 transition-transform">
          <span class="text-4xl mb-3">ğŸ¦</span>
          <h2 class="font-semibold text-lg mb-1">BIM</h2>
          <p class="text-gray-700">349209992 â€“ CUAMBE FELISBERTO</p>
        </div>
        <div class="bg-purple-50 rounded-xl shadow-lg p-5 flex flex-col items-center text-center hover:scale-105 transition-transform">
          <span class="text-4xl mb-3">ğŸ“²</span>
          <h2 class="font-semibold text-lg mb-1">Conta MÃ³vel</h2>
          <p class="text-gray-700">844175964 â€“ Felisberto Raimundo Cuambe</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="hidden space-y-6">
    <h2 class="text-2xl font-semibold text-white">ğŸ“§ Contact Us</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
      <div class="bg-blue-50 rounded-xl shadow-lg p-5 flex flex-col items-center text-center hover:scale-105 transition-transform">
        <span class="text-4xl mb-3">ğŸ“</span>
        <h2 class="font-semibold text-lg mb-2">Calls</h2>
        <p class="text-gray-700 text-base">+258 844 175 964 / +258 874 175 964</p>
      </div>
      <div class="bg-green-50 rounded-xl shadow-lg p-5 flex flex-col items-center text-center hover:scale-105 transition-transform">
        <span class="text-4xl mb-3">ğŸ’¬</span>
        <h2 class="font-semibold text-lg mb-2">WhatsApp</h2>
        <p class="text-gray-700 text-base">+258 844 175 964 / +258 874 175 964</p>
      </div>
      <div class="bg-yellow-50 rounded-xl shadow-lg p-5 flex flex-col items-center text-center hover:scale-105 transition-transform sm:col-span-2">
        <span class="text-4xl mb-3">ğŸ“§</span>
        <h2 class="font-semibold text-lg mb-2">Email</h2>
        <p class="text-gray-700 text-base">cuambeenglishschool@gmail.com</p>
      </div>
    </div>
  </section>

  <!-- Settings Section -->
  <section id="settings" class="hidden space-y-6">
    <h2 class="text-2xl font-semibold text-white">âš™ï¸ Settings</h2>
    <div class="bg-white p-6 rounded-2xl shadow-lg text-gray-800 space-y-6">
      <p class="text-lg font-medium text-gray-700">Manage your account information below:</p>

      <div class="space-y-4">
        <div>
          <label class="block font-semibold mb-1">Email</label>
          <input id="userEmail" type="email" placeholder="Enter your email" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-green-600">
        </div>

        <div>
          <label class="block font-semibold mb-1">Current Password</label>
          <input id="currentPassword" type="password" placeholder="Enter current password" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-green-600">
        </div>

        <div>
          <label class="block font-semibold mb-1">New Password</label>
          <input id="newPassword" type="password" placeholder="Enter new password" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-green-600">
        </div>

        <div>
          <label class="block font-semibold mb-1">Confirm New Password</label>
          <input id="confirmPassword" type="password" placeholder="Confirm new password" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-green-600">
        </div>

        <button onclick="saveSettings()" class="bg-green-700 hover:bg-green-800 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform hover:scale-105">ğŸ’¾ Save Changes</button>

        <p id="saveMessage" class="text-green-700 font-semibold hidden">âœ… Settings saved successfully!</p>
      </div>
    </div>
  </section>

</main>

<script>
  // ------------------- NAVIGATION -------------------
  function showSection(section) {
    document.querySelectorAll('main section').forEach(sec => sec.classList.add('hidden'));
    document.getElementById(section).classList.remove('hidden');
  }

  function logout() {
    alert("You have been logged out!");
  }

  // ------------------- LOAD LESSONS -------------------
  const lessonsContainer = document.getElementById('lessonsContainer');
  for(let i = 1; i <= 34; i++) {
    const savedLesson = JSON.parse(localStorage.getItem(`level1_lesson_${i}`));
    if(savedLesson) {
      const div = document.createElement('div');
      div.className = "bg-white rounded-2xl shadow p-4 space-y-2";
      div.innerHTML = `
        <div class="accordion-header bg-green-200 p-4 font-semibold rounded cursor-pointer flex justify-between items-center" onclick="toggleAccordion(this)">
          <span>${savedLesson.title}</span>
          <span class="text-green-700">+</span>
        </div>
        <div class="accordion-content p-4 space-y-2 bg-gray-50 rounded">
          <p><strong>Instructions:</strong> ${savedLesson.instructions || 'No instructions provided.'}</p>
          <p><strong>Tasks / Notes:</strong> ${savedLesson.tasks || 'No tasks provided.'}</p>
          ${savedLesson.file ? `<a href="${savedLesson.file}" download class="text-blue-600 underline">Download File</a>` : ''}
        </div>
      `;
      lessonsContainer.appendChild(div);
    }
  }

  function toggleAccordion(header) {
    const content = header.nextElementSibling;
    const icon = header.querySelector('span:last-child');
    if (content.style.display === "block") {
      content.style.display = "none";
      icon.textContent = "+";
    } else {
      content.style.display = "block";
      icon.textContent = "âˆ’";
    }
  }

  // ------------------- LOAD TESTS -------------------
  const testsContainer = document.getElementById('testsContainer');
  for(let t = 1; t <= 4; t++) {
    const savedTest = localStorage.getItem(`level1_test_${t}`);
    if(savedTest) {
      const div = document.createElement('div');
      div.className = "bg-white rounded-2xl shadow p-4";
      div.innerHTML = `
        <h3 class="font-semibold mb-2">Test ${t}</h3>
        <p>${savedTest}</p>
      `;
      testsContainer.appendChild(div);
    }
  }

  // ------------------- SETTINGS LOGIC -------------------
  function saveSettings() {
    const email = document.getElementById('userEmail').value;
    const currentPass = document.getElementById('currentPassword').value;
    const newPass = document.getElementById('newPassword').value;
    const confirmPass = document.getElementById('confirmPassword').value;
    const msg = document.getElementById('saveMessage');

    if (!email || !currentPass || !newPass || !confirmPass) {
      alert("Please fill in all fields before saving.");
      return;
    }
    if (newPass !== confirmPass) {
      alert("New passwords do not match!");
      return;
    }

    // Here we could save to localStorage or server
    msg.classList.remove('hidden');
    setTimeout(() => msg.classList.add('hidden'), 3000);
  }

  // Show welcome by default
  showSection('welcome');
</script>

</body>
</html>
